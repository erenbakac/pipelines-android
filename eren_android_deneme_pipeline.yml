# Android
# Build your Android project with Gradle.
# Add steps that test, sign, and distribute the APK, save build artifacts, and more:
# https://docs.microsoft.com/azure/devops/pipelines/languages/android

parameters:

  - name: pipelinesWords
    type: object  
    default:
    - { Name: WillCreate }
    - { Name: CreateApk }
    - { Name: pipeline3 }

variables:
  isMain: $[contains(variables['Build.SourceVersionMessage'], 'WillTest')]

trigger:
- "*"

pool:
  vmImage: 'macOS-10.15'

stages:
- stage: A
  jobs:
  - job: A1
    steps:
      - script: echo Hello Stage  A!
      - script: echo $(isMain)

- stage: B
  condition: and(succeeded(), eq(variables.isMain, 'true'))
  jobs:
  - job: B1
    steps:
      - script: echo Hello Stage B!
      - script: echo $(isMain)